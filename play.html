<!DOCTYPE html>
<html>
<head>
	<title>Trivia</title>
	<link href="style/style.css" rel="stylesheet" type="text/css" />
    <link href="style/circle.css" rel="stylesheet" />
	<script src="js/exit1.js"></script>
	<script src="js/core.js"></script>
	<script src="js/jquery-3.2.1.js"></script>
	<script src="js/webcam.min.js"></script>
	<script>
		$(document).ready(function(){
   			$("#myid").keyup(function(){
        			var currentText = $(this).val();
        			$("#player").text(currentText);
    			});
		});
    		$(document).ready(function(){
   			$("#mycur").keyup(function(){
        			var currentText = $(this).val();
        			$("#cursor").text(currentText);
    			});
		});
	</script>
	<script>
        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");
        function contador(){
            var pos=0;
            interval =  setInterval(function(){ 
				ctx.fillStyle="red";
                ctx.clearRect(0,0,1000,20);
                ctx.fillRect(pos,0,1000,20);
                pos++;
                if(pos>1000){
                    clearInterval(interval);
                    determinaResultado(false);
                    setTimeout(function(){
						clickEnParrafo();
                    },1000);
                } 
            },10);
        }
    </script>
	<script type="text/javascript">
    		function timerw(){
			var timeleft = 11;
    		var downloadTimer = setInterval(function(){
    			timeleft--;
  			document.getElementById("timerq").textContent = timeleft;
    			if(timeleft <= 0)
       				clearInterval(downloadTimer);
        			if(timeleft == 0){
					clickEnParrafo();
				}
    			},1000);
		}
	</script>
	<script>
            $(document).ready(function(){
                indice = 0;
                score=0;
				$("#game").hide();
//******************************************************
                $("#tituloPregunta").on("mouseover",function(){
                    $(this).css("background-color","#green");
                    $(this).css("cursor","pointer");
                });
                
                $("#tituloPregunta").on("mouseout",function(){
                    $(this).css("background-color","#green");
                });
                
 
        //*****************************************************************************
              
        
               $("#tituloPregunta").click(function(){
                   $(this).css("cursor","default");
                   $(this).css("background-color","#4caf50");
                   $("#tituloPregunta").off();
                   $("#pregunta").hide();
                  
                $("#panel").slideToggle(1000);  
                $("#iconoAnimado").fadeOut(2000);
                
                setTimeout(function(){
                    $("#pregunta").fadeIn(2000);
                    $("#textoTitulo").text("Iniciando...");
					$("#register").hide();
                    $("#game").fadeIn(2000);
					timerw();
                    $("#textoPregunta").text(datos[indice][0]);
                    $("#1").text(datos[indice][1]);
                    $("#2").text(datos[indice][2]);
                    $("#3").text(datos[indice][3]);
                    $("#4").text(datos[indice][4]);
                    contador();
                },1000);
            }); 
            
            $("p").click(function(){
               if(datos[indice][parseInt(event.target.id)] === datos[indice][1]) {
					score++;
					clearInterval(interval);
					timerw();
            determinaResultado(true);
        
               }
               else{
               
               clearInterval(interval);
               determinaResultado(false);
                
               }
               setTimeout(function(){
                   
                   clickEnParrafo();
               },1000);
               
            });
            
            
//******************************************************************************** 
           var pregunta1 = ["Hola xdddd?","R1","R2","R3","R4","R2"];
           var pregunta2 = ["Esta es la pregunta numero 2","Respuesta 2.1","Respuesta 2.2","Respuesta 2.3","Respuesta 2.4","Respuesta 2.5","Respuesta 2.6","Respuesta 2.1"];
           var pregunta3 = ["Esta es la pregunta numero 3","Respuesta 3.1","Respuesta 3.2","Respuesta 3.3","Respuesta 3.4","Respuesta 3.5","Respuesta 3.6","Respuesta 3.1"];
           var pregunta4 = ["Esta es la pregunta numero 4","Respuesta 4.1","Respuesta 4.2","Respuesta 4.3","Respuesta 4.4","Respuesta 4.5","Respuesta 4.6","Respuesta 4.1"];
           var pregunta5 = ["Esta es la pregunta numero 5","Respuesta 5.1","Respuesta 5.2","Respuesta 5.3","Respuesta 5.4","Respuesta 5.5","Respuesta 5.6","Respuesta 5.1"];
           var pregunta6 = ["Esta es la pregunta numero 6","Respuesta 6.1","Respuesta 6.2","Respuesta 6.3","Respuesta 6.4","Respuesta 6.5","Respuesta 6.6","Respuesta 6.1"];
           var pregunta7 = ["Esta es la pregunta numero 7","Respuesta 7.1","Respuesta 7.2","Respuesta 7.3","Respuesta 7.4","Respuesta 7.5","Respuesta 7.6","Respuesta 7.1"];
           var pregunta8 = ["Esta es la pregunta numero 8","Respuesta 8.1","Respuesta 8.2","Respuesta 8.3","Respuesta 8.4","Respuesta 8.5","Respuesta 8.6","Respuesta 8.1"];
           var pregunta9 = ["Esta es la pregunta numero 9","Respuesta 9.1","Respuesta 9.2","Respuesta 9.3","Respuesta 9.4","Respuesta 9.5","Respuesta 9.6","Respuesta 9.1"];
           var pregunta10 = ["Esta es la pregunta numero 10","Respuesta 10.1","Respuesta 10.2","Respuesta 10.3","Respuesta 10.4","Respuesta 10.5","Respuesta 10.6","Respuesta 10.1"];
           var pregunta11 = ["Esta es la pregunta numero 11","Respuesta 11.1","Respuesta 11.2","Respuesta 11.3","Respuesta 11.4","Respuesta 11.5","Respuesta 11.6","Respuesta 11.1"];
           var pregunta12 = ["Esta es la pregunta numero 12","Respuesta 12.1","Respuesta 12.2","Respuesta 12.3","Respuesta 12.4","Respuesta 12.5","Respuesta 12.6","Respuesta 12.1"];
           var pregunta13 = ["Esta es la pregunta numero 13","Respuesta 13.1","Respuesta 13.2","Respuesta 13.3","Respuesta 13.4","Respuesta 13.5","Respuesta 13.6","Respuesta 13.1"];
           var pregunta14 = ["Esta es la pregunta numero 14","Respuesta 14.1","Respuesta 14.2","Respuesta 14.3","Respuesta 14.4","Respuesta 14.5","Respuesta 14.6","Respuesta 14.1"];
           var pregunta15 = ["Esta es la pregunta numero 15","Respuesta 15.1","Respuesta 15.2","Respuesta 15.3","Respuesta 15.4","Respuesta 15.5","Respuesta 15.6","Respuesta 15.1"];
           var pregunta16 = ["Esta es la pregunta numero 16","Respuesta 16.1","Respuesta 16.2","Respuesta 16.3","Respuesta 16.4","Respuesta 16.5","Respuesta 16.6","Respuesta 16.1"];
           var pregunta17 = ["Esta es la pregunta numero 17","Respuesta 17.1","Respuesta 17.2","Respuesta 17.3","Respuesta 17.4","Respuesta 17.5","Respuesta 17.6","Respuesta 17.1"];
           var pregunta18 = ["Esta es la pregunta numero 18","Respuesta 18.1","Respuesta 18.2","Respuesta 18.3","Respuesta 18.4","Respuesta 18.5","Respuesta 18.6","Respuesta 18.1"];
           var pregunta19 = ["Esta es la pregunta numero 19","Respuesta 19.1","Respuesta 19.2","Respuesta 19.3","Respuesta 19.4","Respuesta 19.5","Respuesta 19.6","Respuesta 19.1"];
           var pregunta20 = ["Esta es la pregunta numero 20","Respuesta 20.1","Respuesta 20.2","Respuesta 20.3","Respuesta 20.4","Respuesta 20.5","Respuesta 20.6","Respuesta 20.1"];
           
        datos = [pregunta1,pregunta2,pregunta3,pregunta4,pregunta5,pregunta6,pregunta7,pregunta8,pregunta9,pregunta10,pregunta11,pregunta12,pregunta13,pregunta14,pregunta15,pregunta16,pregunta17,pregunta18,pregunta19,pregunta20];
       });     
//********************************************************************************
           function clickEnParrafo(){
               indice++;
               if (indice < datos.length){
               clearInterval(interval);
               contador();
               $("#textoPregunta").text(datos[indice][0]);
                    $("#1").text(datos[indice][1]);
                    $("#2").text(datos[indice][2]);
                    $("#3").text(datos[indice][3]);
                    $("#4").text(datos[indice][4]);
                    $("#5").text(datos[indice][5]);
                    $("#6").text(datos[indice][6]);
                    $("#7").text(datos[indice][7]);
                    $("#8").text(datos[indice][8]);
                    $("#9").text(datos[indice][9]);
                    $("#10").text(datos[indice][10]);
                    $("#11").text(datos[indice][11]);
                    $("#12").text(datos[indice][12]);
                    $("#13").text(datos[indice][13]);
                    $("#14").text(datos[indice][14]);
                    $("#15").text(datos[indice][15]);
                    $("#16").text(datos[indice][16]);
                    $("#17").text(datos[indice][17]);
                    $("#18").text(datos[indice][18]);
                    $("#19").text(datos[indice][19]);
                    $("#20").text(datos[indice][20]);
           }
           else{
        $("#pregs").hide();
        $("#resps").hide();
        $("#canvas").hide();
        $("#puntaje").text(determinaMensaje());
           }
       }
        function determinaResultado(par){
            
            var canvas2 = document.getElementById("canvas2");
            var ctx2 = canvas2.getContext("2d");
            
            if(par===true){
            ctx2.beginPath();
            ctx2.font="30px Comic Sans MS";
            ctx2.fillStyle = "green";
            ctx2.fillText("WOW!",150,50);
            
            ctx2.arc(150,110,10,0,2*Math.PI);
            ctx2.moveTo(260,100);
            ctx2.arc(250,110,10,0,2*Math.PI);
            
             ctx2.moveTo(260,130);
             ctx2.arc(200,130,60,0,Math.PI);
             ctx2.fill();
             
              setTimeout(function(){
                
                canvas2.width=400;
                canvas2.height=200;
                
            },1000);
             
            }
            else{
             ctx2.beginPath();
            ctx2.font="30px Fixedsys";
            ctx2.fillStyle = "red";
            ctx2.fillText("Malo!",150,50);
            
             ctx2.arc(150,110,10,0,2*Math.PI);
            ctx2.moveTo(260,110);
            ctx2.arc(250,110,10,0,2*Math.PI);
            
             ctx2.moveTo(260,180);
             ctx2.arc(200,180,60,0,Math.PI,true);
             ctx2.fill();
            
            setTimeout(function(){
                
                canvas2.width=400;
                canvas2.height=200;
                
            },1000);
              
            }
            
        }
        
        function determinaMensaje(){
            if(score===0)
                return"Obtuviste " + score + " De " +datos.length+ " Puntos posibles. \n Eres asqueroso wn xd";
            if(score < datos.length/2)
                return"Obtuviste " + score + " De " +datos.length+ " Puntos posibles. \n Estas en media tabla hacia abajo\n aun eres asqueroso xd";
            if(score === datos.length/2)
                return"Obtuviste " + score + " De " +datos.length+ " Puntos posibles. \n Estas en media tabla \n Mejora wn";
            if(score < datos.length)
                return"Obtuviste " + score + "De " +datos.length+ " Puntos posibles. \n Estas en media tabla hacia arriba\n el kl weno xd";
            if(score === datos.length)
                return"Obtuviste " + score + " De " +datos.length+ " Puntos posibles. \n PUNTAJE PERFECTO! \n ERES UN PIPES!";
        }
        
//********************************************************************************
           
        </script>
	<link href="img/favicon.png" rel="icon" type="image/png">
</head>
<body id="body">
	<table id="header" class="fologuer2">
		<tr>
			<td><h2>Tiempo</h2><h1 style="text-align:center;" id="timerq">10</h1></td>
		</tr>
	</table>
	<table width="100%" id="header" class="fologuer">
		<tr>
			<td><img style="padding-left:10px;" src="img/escudo.png" width="100px"></td>
			<td><img src="img/logo.png" width="100px"></td>
			<td><a href="index.html"><center><img src="img/Trivia.png"></center></a></td>
			<td><div id="results"><img style="float: right; padding-right:10px;" src="player/user1.png" width="100px"></div></td>
			<td><h2>Jugador: <span id="player">JaviertINC</span><br />Curso: <span id="cursor">4to Prog</span><h2></td>
		</tr>
	</table>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />

<div id="register">
<div id="marginrl">
<div id="sidebarcube">
	<div id="padingrl">
	<br />
	<h1 style="text-align:center;">Ingresa tus datos para jugar!</h1>
	<br />
	<div class="txt">
		<table width="100%">
		<tr>
		<td width="30%"><h2 class="allright">¿Cual es tu nombre?:</h2> </td><td width="70%" colspan="2"><input type="text" maxlength="50" id="myid" name="username"  placeholder="Tu Nombre" value="JaviertINC" /></td>
		</tr>
		<tr>
		<td><h2 class="allright" >¿En que curso vas?:</h2> </td><td colspan="2"><input type="text" id="mycur" name="usercurso" placeholder="Tu Curso" value="4to Prog" /></td>
		</tr>
		<tr>
		<td><h2 class="allright" >(Consejo: Elige una buena pose)</h2> </td>
			<td>
			<center>
			<div id="my_camera"><img src="player/user1.png" width="240px" /></div>
			</center>
			</td>
			<td><button class="button2" value="Elegir Foto" onClick="take_snapshot()">Elegir Foto</button>
			<script language="JavaScript">
				Webcam.set({
					width: 320,
					height: 240,
					dest_width: 640,
					dest_height: 480,
					crop_width: 480,
					crop_height: 480,
					image_format: 'jpeg',
					jpeg_quality: 90
				});
				Webcam.attach( '#my_camera' );
			</script>
			<script language="JavaScript">
				function take_snapshot() {
					Webcam.snap( function(data_uri) {
						document.getElementById('results').innerHTML = 
							'<img style="float: right; padding-right:10px;" src="'+data_uri+'" width="100px" />';
					} );
				}
			</script>
		</td>
		</tr>
		</table>
		<hr />
		<div id="tituloPregunta">
			<center><h2 id="textoTitulo" class="playbtn" value="Jugar!" >Jugar!</h2></center>
		</div>
	</div>
	<br />
	</div>
</div>
</div>
</div>
<div id="game">
<div id="pregs">
<div id="marginrl">
<div id="sidebarcube">
	<div id="tituloPregunta">
		</div>
	<div id="padingrl">
	<h2 class="txtcent" id="textoPregunta">Cargando...</h2>
	<div id="resps" class="txt">
		<p class="white playbtn" id="1">Cargando...</p>
		<p class="white playbtn" id="2">Cargando...</p>
		<p class="white playbtn" id="3">Cargando...</p>
		<p class="white playbtn" id="4">Cargando...</p>
	</div>
<canvas id="canvas" width="1000" height="20" style="margin: 60px;" ></canvas>
	</div>
</div>
<br />
<canvas id="canvas" width="1000" height="20" style="margin: 60px;" ></canvas>
<canvas id="canvas2" width="400" height="200"></canvas>
</div>
</div>
</div>
<div id="final">
	<div id="marginrl">
		<div id="sidebarcube">
			<br />
			<br />
			<h1 class="txtcent">Puntos!</h1>
			<br />
			<h1 id="puntaje" class="txtcent"></h1>
			<br />
			<br />
			<br />
		</div>
	</div>
</div>
            <script>
                canvas = document.getElementById("canvas");
                ctx = canvas.getContext("2d");
                function contador(){
                    var pos=0;
                  interval =  setInterval(function(){ 
                    ctx.fillStyle="green";
                    ctx.clearRect(0,0,1000,20);
                    ctx.fillRect(pos,0,1000,20);
                    pos++;
                    if(pos>1000){
                        
                        clearInterval(interval);
                        determinaResultado(false);
                        setTimeout(function(){
                        
        clickEnParrafo();
                        },1000);
                        
                    }
                        
                },10);
                   
                }
                </script>
</body>
</html>
